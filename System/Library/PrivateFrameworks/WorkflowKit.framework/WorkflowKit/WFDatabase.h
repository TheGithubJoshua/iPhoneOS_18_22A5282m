@class NSHashTable, NSString, NSManagedObjectContext, NSArray, NSURL, WFCoreDataChangeNotification, NSObject, NSPersistentStoreDescription, WFDebouncer;
@protocol OS_dispatch_queue;

@interface WFDatabase : NSObject <WFDatabaseProvider>

@property (class, retain, nonatomic) WFDatabase *defaultDatabase;

@property (readonly) unsigned long long hash;
@property (readonly) Class superclass;
@property (readonly, copy) NSString *description;
@property (readonly, copy) NSString *debugDescription;
@property (nonatomic) BOOL destroysOnDeallocation;
@property (nonatomic) long long transactionCount;
@property (retain, nonatomic) NSPersistentStoreDescription *persistentStoreDescription;
@property (retain, nonatomic) WFCoreDataChangeNotification *pendingLocalChangeNotification;
@property (readonly, nonatomic) NSObject<OS_dispatch_queue> *remoteChangeQueue;
@property (retain, nonatomic) WFCoreDataChangeNotification *pendingRemoteChangeNotification;
@property (readonly, nonatomic) WFDebouncer *remoteChangeNotificationDebouncer;
@property (retain, nonatomic) NSHashTable *resultsToNotify;
@property (retain, nonatomic) NSHashTable *observers;
@property (readonly, nonatomic) struct os_unfair_lock_s { unsigned int _os_unfair_lock_opaque; } observersLock;
@property (readonly, nonatomic) NSObject<OS_dispatch_queue> *changeNotificationQueue;
@property (readonly, nonatomic) NSObject<OS_dispatch_queue> *callbackQueue;
@property (retain, nonatomic) NSManagedObjectContext *suggestionsContext;
@property (retain, nonatomic) NSManagedObjectContext *context;
@property (readonly, nonatomic) NSArray *activeObjectObservers;
@property (readonly, nonatomic) NSArray *activeResults;
@property (nonatomic, getter=isPostingDistributedNotifications) BOOL postDistributedNotifications;
@property (readonly, nonatomic) NSURL *fileURL;

+ (id)appDescriptorFromData:(id)a0;
+ (id)createDatabaseForTesting;
+ (id)dataFromObject:(id)a0 error:(id *)a1;
+ (id)disabledAutoShortcutsFromData:(id)a0;
+ (id)identifierForAppDescriptor:(id)a0;

- (BOOL)saveContextOrRollback:(id)a0 error:(id *)a1;
- (void)deleteSmartPromptStatesForDeletedActionUUIDs:(id)a0 forReference:(id)a1;
- (void)setSyncToken:(id)a0;
- (id)createWorkflowWithOptions:(id)a0 nameCollisionBehavior:(unsigned long long)a1 error:(id *)a2;
- (id)syncToken;
- (BOOL)saveRecord:(id)a0 withDescriptor:(id)a1 error:(id *)a2;
- (id)createWorkflowWithError:(id *)a0;
- (id)autoShortcutsPreferencesForBundleIdentifier:(id)a0 error:(id *)a1;
- (id)_createWorkflowWithOptions:(id)a0 error:(id *)a1;
- (void)deleteAllDeletionAuthorizationsForReference:(id)a0;
- (BOOL)setAutoShortcutDisabledForBundleIdentifier:(id)a0 autoShortcutDisabled:(BOOL)a1 autoShortcutIdentifier:(id)a2 source:(unsigned long long)a3 error:(id *)a4;
- (id)objectForDescriptor:(id)a0 properties:(id)a1;
- (BOOL)saveSmartPromptState:(id)a0 reference:(id)a1 error:(id *)a2;
- (id)collectionResultWithFetchRequest:(id)a0;
- (id)shortcutSuggestionsForAllAppsWithLimit:(unsigned long long)a0 shortcutAvailability:(unsigned long long)a1 error:(id *)a2;
- (unsigned long long)countOfAllVisibleWorkflows;
- (BOOL)moveReferences:(id)a0 toIndexes:(id)a1 ofCollection:(id)a2 visible:(BOOL)a3 error:(id *)a4;
- (id)duplicateReference:(id)a0 error:(id *)a1;
- (void)saveSmartPromptStatesForInsertedAction:(id)a0 contentDestination:(id)a1 reference:(id)a2;
- (id)allConfiguredTriggers;
- (id)migrateAccountStateToAppOriginIfNecessary:(id)a0 reference:(id)a1 actionUUID:(id)a2;
- (BOOL)isSiriEnabledForAutoShortcutsWithAppDescriptor:(id)a0 error:(id *)a1;
- (id)referenceForWorkflowID:(id)a0;
- (void)addActionCountsToShortcutsIfNecessary;
- (id)duplicateReference:(id)a0 newName:(id)a1 error:(id *)a2;
- (id)logRunOfWorkflow:(id)a0 withSource:(id)a1 triggerID:(id)a2;
- (id)workflowSiriRunEventWithIdentifier:(id)a0;
- (id)shortcutsWithOutOfSyncWalrusStatus;
- (id)recordWithDescriptor:(id)a0 properties:(id)a1 error:(id *)a2;
- (id)conflictingReferenceForReference:(id)a0;
- (BOOL)createWorkflowWithIdentifier:(id)a0 record:(id)a1 error:(id *)a2;
- (void)removeRunEventsWithoutAssociatedShortcuts;
- (BOOL)deleteReference:(id)a0 tombstone:(BOOL)a1 deleteConflictIfPresent:(BOOL)a2 error:(id *)a3;
- (BOOL)mergeAutoShortcutsPreferencesWithNewPreferences:(id)a0 error:(id *)a1;
- (id)changedWorkflowIDsForSync;
- (id)localConflictingReferenceForReference:(id)a0;
- (id)sortedRunEventsWithSource:(id)a0 startDate:(id)a1 endDate:(id)a2;
- (void)contextDidSave:(id)a0;
- (id)performDatabaseLookupForState:(id)a0 actionUUID:(id)a1 reference:(id)a2;
- (BOOL)moveReferences:(id)a0 toIndexes:(id)a1 ofCollection:(id)a2 error:(id *)a3;
- (void)deleteDonationsForShortcutWithIdentifier:(id)a0;
- (BOOL)moveCollections:(id)a0 toIndexes:(id)a1 error:(id *)a2;
- (id)createTriggerEventWithTriggerID:(id)a0 eventInfo:(id)a1 confirmed:(BOOL)a2 error:(id *)a3;
- (BOOL)setSiriAutoShortcutsEnablement:(BOOL)a0 forBundleIdentifier:(id)a1 source:(unsigned long long)a2 error:(id *)a3;
- (id)createFolderWithName:(id)a0 icon:(unsigned short)a1 error:(id *)a2;
- (id)shortcutSuggestionsForAppWithBundleIdentifier:(id)a0 shortcutAvailability:(unsigned long long)a1 error:(id *)a2;
- (void)createSmartPromptStatesForInsertedActions:(id)a0 forReference:(id)a1;
- (BOOL)setShortcutSuggestions:(id)a0 forAppWithBundleIdentifier:(id)a1 error:(id *)a2;
- (id)orphanedFolders;
- (void)remoteContextDidSave:(id)a0;
- (id)allShortcutSuggestions;
- (id)collectionWithIdentifier:(id)a0 createIfNecessary:(BOOL)a1;
- (BOOL)setSpotlightAutoShortcutsEnablement:(BOOL)a0 forAppDescriptor:(id)a1 error:(id *)a2;
- (void)deleteAllSmartPromptStateDataForReference:(id)a0;
- (BOOL)deleteAllBookmarksForWorkflowID:(id)a0 error:(id *)a1;
- (id)sortedVisibleWorkflowsByName;
- (id)createBookmarkWithWorkflowID:(id)a0 path:(id)a1 bookmarkData:(id)a2 error:(id *)a3;
- (void)setTrustedToRunScripts:(BOOL)a0 forReference:(id)a1 onDomain:(id)a2;
- (BOOL)moveCollections:(id)a0 toIndexes:(id)a1 ofCollectionWithIdentifier:(id)a2 error:(id *)a3;
- (id)bookmarkDataForWorkflowID:(id)a0 path:(id)a1 error:(id *)a2;
- (id)createTriggerWithRecord:(id)a0 workflow:(id)a1 error:(id *)a2;
- (id)allStatesDataForReference:(id)a0 actionUUID:(id)a1;
- (BOOL)removeReferences:(id)a0 fromCollectionWithIdentifier:(id)a1 error:(id *)a2;
- (id)workflowRelationshipKeysAffectingDescriptors;
- (id)triggerEventForIdentifier:(id)a0 error:(id *)a1;
- (id)sortedVisibleWorkflowsWithAssociatedAppBundleIdentifier:(id)a0;
- (id)deletedFolders;
- (id)fetchFirstAllowedStateMatching:(id)a0 actionUUID:(id)a1 forReference:(id)a2;
- (id)sortedVisibleFolders;
- (BOOL)hasConflictWithName:(id)a0;
- (id)sortedVisibleWorkflowsInCollection:(id)a0;
- (id)workflowResultWithFetchRequest:(id)a0;
- (BOOL)setAutoShortcutDisabledForAppDescriptor:(id)a0 autoShortcutDisabled:(BOOL)a1 autoShortcutIdentifier:(id)a2 error:(id *)a3;
- (id)collectionWithIdentifier:(id)a0;
- (id)logRunOfWorkflow:(id)a0 atDate:(id)a1 withIdentifier:(id)a2 source:(id)a3 triggerID:(id)a4;
- (id)validateFolderName:(id)a0 forCollection:(id)a1 error:(id *)a2;
- (id)sortedRunEventsWithSource:(id)a0;
- (id)generateAndPersistUUIDForActionWithIdentifier:(id)a0 actionIndex:(unsigned long long)a1 workflowIdentifier:(id)a2;
- (id)bookmarksForWorkflowID:(id)a0 error:(id *)a1;
- (BOOL)hasConflictingReferenceForReference:(id)a0;
- (id)allCollections;
- (id)visiblePredicate;
- (id)approvalResultForContentAttributionSet:(id)a0 contentDestination:(id)a1 actionUUID:(id)a2 actionIdentifier:(id)a3 actionIndex:(unsigned long long)a4 reference:(id)a5 allowedOnceStates:(id)a6;
- (BOOL)setSpotlightAutoShortcutsEnablement:(BOOL)a0 forBundleIdentifier:(id)a1 source:(unsigned long long)a2 error:(id *)a3;
- (id)collectionsWithOutOfSyncWalrusStatus;
- (id)_syncTokenWithError:(id *)a0;
- (id)createWorkflowWithOptions:(id)a0 error:(id *)a1;
- (unsigned long long)countForResult:(id)a0;
- (void)trackMetricsForToggleType:(unsigned long long)a0 source:(unsigned long long)a1 bundleIdentifier:(id)a2 isEnabled:(BOOL)a3;
- (void)addObjectObserver:(id)a0;
- (id)objectForDescriptor:(id)a0 properties:(id)a1 createIfNecessary:(BOOL)a2;
- (unsigned long long)countOfWorkflowsInAFolder;
- (id)descriptorsForFetchOperation:(id)a0 state:(id *)a1 error:(id *)a2;
- (id)orphanedShortcuts;
- (BOOL)startObservingChangesForResult:(id)a0;
- (id)latestRunEvent;
- (id)defaultCoreDataAutoShortcutsPreferencesForAppDescriptor:(id)a0 error:(id *)a1;
- (id)performSaveOperationWithReason:(id)a0 block:(id /* block */)a1 error:(id *)a2;
- (Class)recordClassForObjectType:(unsigned long long)a0;
- (id)orphanedFoldersPredicate;
- (id)validateWorkflowName:(id)a0 forCreation:(BOOL)a1 overwriting:(BOOL)a2 error:(id *)a3;
- (void)removeObjectObserver:(id)a0;
- (id)sortedVisibleWorkflowsNameContains:(id)a0 limit:(long long)a1;
- (id)currentDeletionAuthorizationStatusWithContentItemClassName:(id)a0 actionUUID:(id)a1 actionIdentifier:(id)a2 actionIndex:(unsigned long long)a3 count:(unsigned long long)a4 reference:(id)a5;
- (void).cxx_destruct;
- (id)folderForWorkflowReference:(id)a0;
- (id)conflictForWorkflowReference:(id)a0;
- (BOOL)isEqual:(id)a0;
- (BOOL)isAutoShortcutDisabledForBundleIdentifier:(id)a0 autoShortcutIdentifier:(id)a1;
- (BOOL)isSpotlightEnabledForAutoShortcutsWithBundleIdentifier:(id)a0 error:(id *)a1;
- (id)deletionAuthorizationStatesForReference:(id)a0;
- (id)configuredTriggersForWorkflowID:(id)a0;
- (BOOL)mergeAutomationsAndShortcuts;
- (BOOL)isSiriEnabledForAutoShortcutsWithBundleIdentifier:(id)a0 error:(id *)a1;
- (id)recentlyModifiedShortcuts;
- (id)descriptorsForResult:(id)a0 state:(id *)a1 error:(id *)a2;
- (id)updateFolder:(id)a0 newName:(id)a1 newIcon:(unsigned short)a2 error:(id *)a3;
- (id)saveAutoShortcutsPreferencesForAppDescriptor:(id)a0 update:(id /* block */)a1 error:(id *)a2;
- (id)sortedRunEventsForTriggerID:(id)a0;
- (BOOL)reloadRecord:(id)a0 withDescriptor:(id)a1 error:(id *)a2;
- (BOOL)isSpotlightEnabledForAutoShortcutsWithAppDescriptor:(id)a0 error:(id *)a1;
- (void)_saveSmartPromptStateData:(id)a0 actionUUID:(id)a1 forWorkflow:(id)a2;
- (BOOL)isSiriEnabledForAutoShortcutsWithBundleIdentifier:(id)a0;
- (BOOL)moveCollections:(id)a0 toIndex:(unsigned long long)a1 error:(id *)a2;
- (id)recentlyRunShortcuts;
- (BOOL)setWalrusStateForTesting:(long long)a0 withError:(id *)a1;
- (id)tombstonedShortcutsPredicate;
- (id)missingErrorForDescriptor:(id)a0;
- (id)autoShortcutsPreferencesForAppDescriptor:(id)a0 error:(id *)a1;
- (id)latestWorkflowSiriRunEvent;
- (BOOL)prependReferences:(id)a0 toCollectionWithType:(id)a1 error:(id *)a2;
- (void)_updateStatesToMatchSmartPromptState:(id)a0 forWorkflow:(id)a1;
- (BOOL)isAutoShortcutDisabledForBundleIdentifier:(id)a0 autoShortcutIdentifier:(id)a1 error:(id *)a2;
- (void)notifyResultsAboutChange:(id)a0;
- (id)orphanedWorkflowsPredicate;
- (id)sortedVisibleWorkflowsByNameWithLimit:(long long)a0;
- (id)triggerRunEventsInTheLastWeek;
- (BOOL)isSpotlightEnabledForAutoShortcutsWithBundleIdentifier:(id)a0;
- (void)performTransactionWithReason:(id)a0 block:(id /* block */)a1 error:(id *)a2;
- (id)sortedVisibleWorkflowsWithType:(id)a0;
- (id)workflowFetchRequestWithCollectionID:(id)a0 includeTombstones:(BOOL)a1 limit:(unsigned long long)a2;
- (id)autoShortcutsPreferencesFromCoreDataAutoShortcutsPreferences:(id)a0;
- (BOOL)deleteReference:(id)a0 error:(id *)a1;
- (id)deletedWorkflowIDsForSync;
- (void)updateWalrusStatus;
- (void)deleteShortcutSuggestionsFromApps:(id)a0;
- (void)_updateDeletionAuthorizationsToMatchAuthorization:(id)a0 forWorkflow:(id)a1;
- (id)allConfiguredTriggersNeedingRunningNotifications;
- (BOOL)isAutoShortcutDisabledForAppDescriptor:(id)a0 autoShortcutIdentifier:(id)a1 error:(id *)a2;
- (id)coreDataAutoShortcutsPreferencesForAppDescriptor:(id)a0 error:(id *)a1;
- (void)dealloc;
- (id)workflowsWithTombstonedConflicts;
- (BOOL)moveReferences:(id)a0 toIndex:(long long)a1 ofCollection:(id)a2 error:(id *)a3;
- (id)collectionsForWorkflowReference:(id)a0;
- (id)smartPromptStatesForReference:(id)a0;
- (void)setOutcome:(long long)a0 forRunEvent:(id)a1;
- (void)updateAppDescriptor:(id)a0 atKey:(id)a1 actionUUID:(id)a2 actionIndex:(id)a3 actionIdentifier:(id)a4 workflowID:(id)a5;
- (id)initWithStoreDescription:(id)a0 runMigrationsIfNecessary:(BOOL)a1 useLockFile:(BOOL)a2 error:(id *)a3;
- (id)visibleCollectionForFolderName:(id)a0;
- (id)recordWithDescriptor:(id)a0 error:(id *)a1;
- (id)performOperationWithReason:(id)a0 block:(id /* block */)a1 error:(id *)a2;
- (id)databaseWithError:(id *)a0;
- (id)visibleReferencesForWorkflowName:(id)a0;
- (id)autoShortcutsPreferencesForIdentifier:(id)a0 error:(id *)a1;
- (id)suggestedFolderNameForName:(id)a0;
- (id)allShortcutBookmarks;
- (id)triggerResultWithFetchRequest:(id)a0;
- (id)remoteConflictingReferenceForReference:(id)a0;
- (BOOL)moveReferences:(id)a0 toIndex:(long long)a1 ofCollection:(id)a2 visible:(BOOL)a3 error:(id *)a4;
- (id)sortedWorkflowsWithQuery:(id)a0;
- (id)collectionForWorkflowType:(id)a0;
- (BOOL)isReference:(id)a0 allowedToRunOnDomain:(id)a1;
- (void)_deleteSmartPromptState:(id)a0 forReference:(id)a1;
- (id)mostRunOrLatestImportedVisibleShortcut;
- (id)collectionRecordForCollectionIdentifier:(id)a0 createIfNecessary:(BOOL)a1;
- (id)allShortcuts;
- (id)coreDataAutoShortcutsPreferencesForIdentifier:(id)a0 error:(id *)a1;
- (id)objectOfClass:(Class)a0 withIdentifier:(id)a1 forKey:(id)a2 createIfNecessary:(BOOL)a3 properties:(id)a4;
- (BOOL)saveSmartPromptStateData:(id)a0 actionUUID:(id)a1 reference:(id)a2 error:(id *)a3;
- (BOOL)deleteAutoShortcutsPreferencesForIdentifier:(id)a0 error:(id *)a1;
- (id)performSuggestionsOperationWithBlock:(id /* block */)a0 error:(id *)a1;
- (BOOL)updateAutoShortcutsPreferencesWithNewPreferences:(id)a0 error:(id *)a1;
- (id)renameReference:(id)a0 to:(id)a1 error:(id *)a2;
- (id)configuredTriggerForTriggerID:(id)a0;
- (id)smartPromptStatesForReference:(id)a0 actionUUID:(id)a1;
- (void)clearTombstonesAndSyncState;
- (void)setConfirmedForTriggerEventWithIdentifier:(id)a0 error:(id *)a1;
- (BOOL)prependReferences:(id)a0 toCollection:(id)a1 error:(id *)a2;
- (void)deleteSmartPromptState:(id)a0 forReference:(id)a1;
- (id)duplicateNameErrorWithName:(id)a0;
- (void)addSyncHashesToShortcutsIfNecessary;
- (BOOL)shouldPromptForCurrentContentItemCount:(unsigned long long)a0 previousCount:(unsigned long long)a1;
- (void)setConflictingReference:(id)a0 forReference:(id)a1;
- (id)uniqueVisibleReferenceForWorkflowName:(id)a0;
- (BOOL)hasVisibleWorkflowsWithName:(id)a0;
- (id)sortedTriggerEventsWithConfirmationOnly:(BOOL)a0;
- (BOOL)setSiriAutoShortcutsEnablement:(BOOL)a0 forAppDescriptor:(id)a1 error:(id *)a2;
- (id)suggestedWorkflowNameForName:(id)a0;
- (void)compactDeletionAuthorizationsIfNecessaryForWorkflowReference:(id)a0;
- (void)accessStorageForDescriptor:(id)a0 forWriting:(BOOL)a1 readingRecordProperties:(id)a2 usingBlock:(id /* block */)a3 withError:(id *)a4;
- (void)remoteChangeDebouncerDidFire;

@end
